<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8" />
  <title>PACTML</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<!-- The game space -->
<div id="viewport">

  <h1>pacTML 9</h1>
  <h3>A pacman game with HTML5, CSS3 and Javascript (and a twist!!!)</h3>
  <canvas id="gamespace"></canvas>

</div>

<!-- The javascript file -->
<script type="text/javascript" src="js/pacman.js"></script>

<script type="text/javascript">

/* Associating Pacman moves to keyboard nivigation keys */

var moving = false;
var interval = null;
var currentDirection = null;

;/* On key down */
var kDown = function(e) {
  
  // Get the direction
  var direction = e.keyCode - 36;
  
  // Rotation, key 'r'
  if ( direction === 46 && moving === false) {
    moving = true;
    interval = setInterval("grid.rotate()", 65);
  }

  // Check direction and move
  if((direction >= 1 && direction <= 4 || direction === 46) && moving===false) {
    moving = true;
    interval = setInterval("pacman.move(" + direction + ",1)",0.5);
  }
}

/* Stop moving */
var kUp = function(e) {
  moving = false;
  clearInterval(interval);
}

/* Associate functions with keyboard events */
window.onkeydown = kDown;
window.onkeyup = kUp;
</script>

</body>
<footer>
  <a href="mailto:samumatt@gmail.com">samumatt@gmail.com</a>
</footer>
</html>
